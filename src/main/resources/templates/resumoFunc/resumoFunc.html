<!DOCTYPE html>
<html lang="pt-br">

<head th:replace="fixos/layout :: head(~{ :: .titulo}, ~{ :: .script})">
<meta charset="UTF-8">
<title class="titulo">Resumo Funcionário</title>

<script
	class="script"
	src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.min.js"
	integrity="sha512-d9xgZrVZpmmQlfonhQUvTR7lMPtO7NkZMkA0ABN3PHCbKA5nqylQ/yWlFAyY6hYgdF1Qh6nYiuADWwKB4C2WSw=="
	crossorigin="anonymous"></script>

</head>
<body>
	<th:block th:include="fixos/layout :: esqueleto(~{ :: .conteudo})">
		<!-- conteudo da pagina dentro do esqueleto -->	
		<th:block class="conteudo">
		<div class="d-flex flex-column w-100">
			<div class="d-flex flex-column flex-lg-row w-100" >
				<!-- resumo com nome e estrelas  -->
				<div class="d-flex flex-column w-100 align-items-center" >					
					<th:block th:include="resumoFunc/cards :: card_resumo_func"></th:block>
				</div>
				<!-- info func -->
				<div class="d-flex flex-column w-100 h-100 align-items-center jef-border-left">
					<th:block th:include="resumoFunc/cards :: card_resumo_info"></th:block>
				</div>
				
			</div>
			<div class="d-flex w-100 mt-2">
				<!-- pequenos cards -->
				<div class="d-flex flex-column w-100">
					<div class="row no-gutters">
						<div class="col  p-2">
							<th:block th:include="dashboard/cards :: card_pequeno_total_icone('Obras','7', 'fa-industry','#')"></th:block>
						</div>
						<div class="col p-2">
							<th:block th:include="dashboard/cards :: card_pequeno_total_icone('Situação', 'Ativo', 'fa-user-check','#')"></th:block>
						</div>
						<div class="col p-2">
							<th:block th:include="dashboard/cards :: card_pequeno_total_icone('GRRF','158,92','fa-money-check-alt','#')"></th:block>
						</div>
						<div class="col p-2">
							<th:block th:include="dashboard/cards :: card_pequeno_total_icone('Rescisão','7.895,21','fa-file-invoice-dollar','#')"></th:block>						
						</div>
					</div>
				</div>
			</div>
			
			<div class="d-flex flex-column w-100 p-2">
				<h3 style="color: rgb(22, 74, 71)" class="jef-border-bottom pb-2">Financeiro</h3>
				<!--card gastos mensais-->
				<div class="card p-2 w-100 jef-card-cor">
						<h6 class="jef-card-titulo">Salário</h6>
						<div class="row pt-2 h-100">
							<div class="col h-100">
								<!--lista card auxiliar-->
								<div
									class="d-flex flex-row justify-content-center align-items-center h-100">
									<canvas id="myChart" height="60"></canvas>

								</div>
							</div>
						</div>
					</div>
			</div>
			<div class="d-flex w-100 p-2">
				<!--card gastos mensais-->
				<div class="card p-2 w-100 jef-card-cor">
						<h6 class="jef-card-titulo">GRF</h6>
						<div class="row pt-2 h-100">
							<div class="col h-100">
								<!--lista card auxiliar-->
								<div class="d-flex flex-column justify-content-center align-items-center h-100">
									<canvas id="myChart1" height="60"></canvas>
									<div class="w-50 d-flex justify-content-around">
										<span class="jef-card-titulo"><span style="color: #42f560">■</span> Efetivado</span>
										<span class="jef-card-titulo"><span style="color: #f55a42">■</span> Pendente</span>
									</div>
								</div>
							</div>
			
						</div>

					</div>
			</div>
			
			<!-- obras -->
			<div class="d-flex flex-column w-100">
				<h3 style="color: rgb(22, 74, 71)" class="jef-border-bottom m-2 pb-2">Obras</h3>
				
				<div class="row w-100 no-gutters">
					<div th:each="obra : ${obras_trabalhadas}" class="col-4 p-2">
						<!-- card obra resumida  -->
						<th:block th:include="resumoFunc/cards :: card_obra_resumida(
						${obra.controle},
						${obra.cliente},
						${#arrays.length(obra.funcionarios)},
						${obra.datafim})"></th:block>
					
					</div>
				</div>
			</div>
		</th:block>
	</th:block>
	
	<!-- script modal aviso customizado -->
	<th:block th:replace="fixos/componentes :: modal_aviso"></th:block>	
	<!-- scripts globais para o site -->
	<th:block th:replace="fixos/layout :: scripts"></th:block>
	
	<script th:inline="javascript">
	//pega o objeto que foi definido no back
	var func = /*[[${func}]]*/"func";
	//quando apagina carregar desenhar
	var obras_funcionario = /*[[${obras_trabalhadas}]]*/"obras";
	
	
	jQuery(document).ready(async function($) {
		console.log(func);
		console.log(obras_funcionario);
		//carregar imagem salva no banco se tiver
		var img_perfil = /*[[${img_perfil}]]*/"";
		console.log(img_perfil);
		if(img_perfil != null && img_perfil.length > 0){
			var aux = await uint8ToBlobUrl(img_perfil);										
			$("#jef-img-funcionario").attr("src",aux.urlBlob)							
			setTimeout(function() {
				document.getElementById("jef-img-funcionario").style.padding = "1px";
			}, 100);
		}
		//definindo estrelas
		setEstrelas("estrela-"+ (func.nota == 0 ? func.nota += 1 : func.nota));
		
		$("#btn-post").on("click", function(e) {
			e.preventDefault();
			var arr = [];
			for(var i = 0; i < uint8ArrayNew.length; i++){
				//console.log(uint8ArrayNew[i] -128);
				arr.push(uint8ArrayNew[i]);
			}
			
			//arr = [0,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,125,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,125,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,125,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,125,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,125,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,125,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,125,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,125,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,125,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,125,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,125,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,125,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,125,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,125,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,125,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,125,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,125,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,125,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,125,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,125,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,125,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,125,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,125,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,125,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,125,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,125,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,125,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,125,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,125,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,125,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,125,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,125,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,125,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,125,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,125,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,125,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,125,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,125,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,125,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,125,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,125,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,125,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,125,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,125,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,125,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,125,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,125,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,125,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,125,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,125,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,125,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,125,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,125,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,125,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,125,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,125,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,125,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,125,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,125,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,125,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,125,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,125,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,125,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,125,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,125,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,125,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,125,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,125,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,125,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,125,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,125,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,125,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,125,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,125,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,125,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,125,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,125,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,125,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,125,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,125,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,125,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,125,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,125,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,125,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,125,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,125,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,125,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,125,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,125,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,125,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,125,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,125,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,125,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,125,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,125,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,125,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,125,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,125,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,125,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,125,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,125,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,125,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,125,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,125,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,125,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,125,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,125,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,125,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,125,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,125,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,125,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,125,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,125,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,125,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,125,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,125,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,125,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,125,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,125,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,125,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,125,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,120,1,2,3,4,5,6,7,8,9,10,11,12];
			//arr = arr.concat(uint8ArrayNew);
			var jso = {img: arr};
			console.log("form submit array convertido para int");
			console.log(arr);
			uint8toblob(arr);
			
			$.ajax({
				type : "POST",
				datatype : "json",
				url : "/resumofuncPost",
				data : jso,					
				
				success : function(response) {
					alert("foi")
				},
				error : function(e) {
					alert("error");
				}
			});
			
		});
	});
	
	function uint8toblob(u8){		
		var uint8 = new Uint8Array(u8);

		var arrayBuffer = uint8.buffer;
		//depois é convertido para o tipo blob
		blob = new Blob([arrayBuffer],{ type: "image/bmp" });
		    
		//depois é feito uma url para esse blob e assim ser mostrado por uma tag img
		var urlCreator = window.URL || window.webkitURL;
		var imageUrl = urlCreator.createObjectURL( blob );
		console.log(imageUrl);
		document.getElementById("jef-img-funcionario-result").src = imageUrl;
	}	
	</script>
	
	<!-- GERAR data grafico automaticamente -->
	<script>
	function gerarDATAgrafico(labels, datas){
		return {
				labels: labels,
				
				datasets: [{
					label: "Valor",
					data: datas,
				}]
		}
	}
	</script>
	<!-- card grf -->
	<script th:inline="javascript">
	var test = [];
	
	const movis = /*[[${movisfunc}]]*/ 'f';
	
	//ordenando pela referencia
	movis.sort((a,b) => (a.referencia > b.referencia) ? 1 : ((b.referencia > a.referencia) ? -1 : 0));
	
	var aux = [];
	for(i = 0; i < movis.length; i++){
		if(movis[i].categoria == "GRF"){
			aux.push(movis[i]);
		}
	}
	
	
	var ctx = document.getElementById('myChart1');
	var myChart = new Chart(ctx, {
	   
		type: 'bar',
		//data: gerarDATAgrafico(Object.keys(movis).map(function(k){return movis[k].referencia}),
								//Object.keys(movis).map(function(k){return movis[k].pagamento})),
	    data: {
	        labels: Object.keys(aux).map(function(k){  	return (aux[k].referencia).substring(5,7) + "/"+ (aux[k].referencia).substring(0,4)}),
	        
	        datasets: [{
	            label: 'Valor',
	            data: Object.keys(aux).map(function(k){ if(aux[k].categoria == "GRF") return aux[k].pagamento}),
	   
	            borderColor: Object.keys(aux).map(function(k){return aux[k].situacao == "EFETIVADA" ? '#42f560' : '#f55a42'}),
	            borderWidth: 1
	        }]
	    },
	    options: {
			clip: true,
	    	responsive: true,
			legend : {
				display: false,
				position: 'bottom'
			},
			
	        scales: {
	            yAxes: [{
	                ticks: {
	                    beginAtZero: true
	                }
	            }]
	        }
	    }
	});
	</script>
	<!-- card salario -->
	<script th:inline="javascript">

	var aux = [];
	for(i = 0; i < movis.length; i++){
		if(movis[i].categoria == "SALARIO" || movis[i].categoria == "ADIANTAMENTO"){
			aux.push(movis[i]);
		}
	}
	
	
	
	var ctx = document.getElementById('myChart');
	var myChart = new Chart(ctx, {
	   
		type: 'line',
	    data: {
	    	labels: Object.keys(aux).map(function(k){  	return (aux[k].referencia).substring(5,7) + "/"+ (aux[k].referencia).substring(0,4)}),
	        
	        datasets: [{
	            //label: Object.keys(aux).map(function(k){ return aux[k].categoria}),
	            data: Object.keys(aux).map(function(k){ return aux[k].pagamento}),
	            borderColor: Object.keys(aux).map(function(k){return aux[k].situacao == "EFETIVADA" ? 'rgba(66, 245, 96,1)' : 'rgba(245, 90, 66,1)'}),
	     	    borderWidth: 1
	        }]
	    },
	    options: {
			clip: true,
	    	responsive: true,
			legend : {
				display: false,
				position: 'bottom'
			},
			
	        scales: {
	            yAxes: [{
	                ticks: {
	                    beginAtZero: true
	                }
	            }]
	        }
	    }
	});
	</script>
	
</body>